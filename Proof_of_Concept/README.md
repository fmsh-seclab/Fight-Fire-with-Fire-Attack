# Proof of Concept

## File Descriptions
- **`decrypted_mb1/`**: Contains the decrypted rcm message and orignal MB1 files provide by Nvidia.

- **`em_trace/`**: Contains the EM trace-set we captured during the decryption of the MB1 firmware with SBK.

- **`rcm_message/`**: Contains the encrypted MB1 files generated by Jetson Linux BSP tool kit.  

- **`jetson_32bit_cpa.cu`**: Implements a GPU-accelerated 32bit CPA algorithm for key recovery (source code).
  
- **`Result.txt`**: Records CPA result, including: top 4 candidate key with correlation coefficients and the AES-128 master key.
  
- **`roundkey.bin`**: Stores round keys generated by the CPA algorithm in `jetson_32bit_cpa.cu`.

- **`decrypt.py`**: Python script to decrypt the rcm message with `SBK`.
- 
- **`POC.sh`**: Automates the POC workflow:
  - 1. Compiles `jetson_32bit_cpa.cu` into an executable `jetson_32bit_cpa`.
  - 2. Runs the CUDA program `jetson_32bit_cpa` and output `SBK` value to `Result.txt`.
  - 3. Runs the Python script `decrypt.py` to decrypt the encrypted MB1 files in `rcm_message/` with `SBK` and store to `decrypted_rcm_message/`.


## OS and GPUs Requirements
- **`OS Requirements`**: Linux x86-64
- **`Docker Image`**: <nvcr.io/nvidia/cuda:12.1.1-devel-ubuntu22.04> 
- **`Python Version`**: â‰¥ 3.8
- **`GPU Requirements`**: 4 x Nvidia GPU (4 Nvidia L40S GPU or above)


## PoC Usage 
```bash
chmod +x POC.sh    # Grant execute permissions
./POC.sh           # Run the script
```
